{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Organization</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'styles/styles.css' %}">
    <link rel="stylesheet" href="{% static 'styles/org.css' %}">
</head>
<body>

<div id="sidebar">
    <div id="sidebar_content" class="hidden">
        <p><a href="{% url 'core:profilepage' %}">Profile</a></p>
        <p><a href="{% url 'core:home' %}">Home</a></p>
        <p><a href="{% url 'core:organization' %}">Organization</a></p>
        <p><a href="{% url 'core:saved' %}">Saved</a></p>
        <p><a href="{% url 'core:email' %}">Email</a></p>
    </div>
    <hr class="divider_sidebar"/>

    <div class="notification_container">
    <!-- Notification Pop-Up -->
    <div id="notification_popup" class="hidden">
        <h2>Notifications</h2><button id="close_notification_popup" class="close-btn">&times;</button>
        <div id="notification_list">
            <ul>
                <li class="notification_item" data-detail="General meeting at 10:30 AM on January 3, 2024, will be held in the main conference room. All employees are expected to attend this important session where key company updates and strategic initiatives for the upcoming year will be discussed.">
                    <div class="title-and-date">
                        <p>Schedule Update</p>
                        <span>Yesterday</span>
                    </div>
                    <p class="short-description">General meeting at 10:30AM on Jan 3, 202 General meeting at 10:30AM on Jan 3, 202</p>
                    <p class="posted-by">- Imee Duterte</p>
                </li>
            </ul>
        </div>
    </div>
    <!-- Detailed Notification -->
    <div id="detailed_notification" class="hidden">
        <h2 id="notification_title">Schedule Update</h2>
        <p class="notification_date">Yesterday, January 29, 2025</p>
        <button id="close_detailed_notification" class="close-btn">&times;</button>
        <p id="notification_detail"></p>
        <p class="posted-by">- Imee Duterte, Team Head</p>
        <button class="respond-btn">Respond</button>
    </div>
    </div>

    <div id="sidebar_icns_grp">
        <div class="nav_item">
            <img id="nav_icon" class="sidebar_icns" style="margin-bottom: -6px;" src="{% static 'Images/Navigation.png' %}" alt="Navigate">
            <p id="navigation_paragraph">Navigate</p>
        </div>
        <div class="nav_item">
            <img class="sidebar_icns" src="{% static 'Images/Notification.png' %}" alt="Notification">
            <p id="notification_paragraph">Notification</p>
        </div>
        <div class="nav_item">
            <img class="sidebar_icns" src="{% static 'Images/Settings.png' %}" alt="Settings">
            <p>Settings</p>
        </div>
    </div>
</div>

    <div id="header">
        <div>
            <img id="logo" src="{% static 'Images/Logo.png' %}" alt="ARC.AI Logo">
        </div>
        <div id="header_nav" class="text_white">
            <p><a href="{% url 'core:home' %}" class="{% if active_page == 'home' %}active{% endif %}">Home</a></p>
            <p><a href="{% url 'core:organization' %}" class="{% if active_page == 'organization' %}active{% endif %}">Organization</a></p>
            <p><a href="{% url 'core:saved' %}" class="{% if active_page == 'saved' %}active{% endif %}">Saved</a></p>
            <p><a href="{% url 'core:email' %}" class="{% if active_page == 'email' %}active{% endif %}">Email</a></p>
            <p><a href="{% url 'core:profilepage' %}" class="{% if active_page == 'email' %}active{% endif %}">Profile</a></p>
        </div>
        <div>
            <img id="account_icn" src="{% static 'Images/Account.png' %}" alt="Account">
        </div>
    </div>
    
    <div class="contentorg">
        <section class="continue-working">
            <div class="header-with-line">
                <h1 class="Title">Continue Working</h1>
                <hr class="divider"/>
            </div>

            {% if top_project %}
            <div class="continue-card">
                <div>
                    <div class="under-image">
                        <img src="{% static 'Images/projunder.png' %}" alt="under image" class="background-image">
                    </div>
                    <div class="project-status-container">  
                        <div class="project-logo">
                            <img src="{% static 'Images/projlogo.png' %}" alt="Project Logo">
                        </div>
                        <div class="FileInfo">
                            <p><strong>{{top_project.name}}</strong></p>
                            <p>Project ID: HR-2024-ONB-{{top_project.project_id}}</p>
                            <p class="space">Start Date: {{top_project.project_start_Date}}</p>
                            <p>Finished Date: {{ top_project.finish_date|default:"-" }}</p>
                            <p class="status1">{{ top_project.project_status }}</p>
                        </div>
                    </div>  
                </div>
                <div class="project-details">
                    <h3>Description</h3>
                    <p>{{top_project.project_desc}}</p>
                    <h3>Project Manager</h3>
                    <p>{{top_project.project_manager}}
                    <h3>Team</h3>
                    <p>
                        {% for member in top_project.members.all %}
                            {{member.member_name}} {% if not forloop.last %}, {% endif %}
                        {% empty %}
                            No members assigned.
                        {% endfor %}
                    </p>
                    <div class="details-row">
                        <div>
                            <h3>Total Hours Spent</h3>
                            <p>{{ top_project.total_hours|default:"-" }}</p>
                        </div>
                        <div>
                            <h3>Deadline</h3>
                            <p>{{ top_project.finish_date|default:"-" }}</p>
                        </div>
                        <div>
                            <!-- <button class="continue-btn">Continue</button> -->
                        </div>
                    </div>
                </div>
            </div>
            {% else %}
            <p>No projects available.</p>
            {% endif %}
        </section>
    
        <section class="other-projects">
            <div class="header-with-line">
                <h1 class="Title">Project List</h1>
                <hr class="divider"/>
            </div>
            <div class="card-section">
                <div class="card-container">
                    <!-- Repeat this card as needed -->
                    {% for project in projects %}
                    <!-- Repeat this card as needed -->
                    <div class="project-container">
                        <div class="project-card">  
                            <div class="card-header">
                            <img src="{% static 'Images/icon1.png' %}" alt="icon" />
                            <img src="{% static 'Images/icon2.png' %}" alt="icon" style="filter: brightness(0) invert(1);"  />
                            </div>
                            <div class="card-body">
                            <h3>{{project.name}}</h3>
                            <div class="project-detailscard">

                                <p>{{project.project_id}}</p>
                                <div class="dategroup">
                                <p>{{project.start_date}}</p>
                                <p>{{project.finish_date}}</p>
                                </div>
                            </div>

                            {% if project.project_status == 'Completed' %}
                            <p class="status" style="color: #6AFF3C">{{project.project_status}}</p>
                            {% elif project.project_status == 'Ongoing' %}
                            <p class="status" style="color: orange">{{project.project_status}}</p>
                            {% elif project.project_status == 'Missed' %}
                            <p class="status" style="color: red">{{project.project_status}}</p>
                            {% endif %}

                            </div>
                        </div>
                    </div>
                {% endfor %}
                    <!-- Duplicate above block for more cards -->
                </div>
                </div>
        </section>

        <section class="Schedules">
            <div class="header-with-line">
                <h1 class="Title">Schedules</h1>
                <hr class="divider" />
            </div> 
            <div class="schedule-container">
                <div class="schedule-grid">
                    <div class="days">
                        <p>Monday</p>
                        <p>Tuesday</p>
                        <p>Wednesday</p>
                        <p>Thursday</p>
                        <p>Friday</p>
                        <p>Saturday</p>
                        <p>Sunday</p>
                    </div>

                    <div class="time-labels">
                        <p>1AM</p>
                        <p>2AM</p>
                        <p>3AM</p>
                        <p>4AM</p>
                        <p>5AM</p>
                        <p>6AM</p>
                        <p>7AM</p>
                        <p>8AM</p>
                        <p>9AM</p>
                        <p>10AM</p>
                        <p>11AM</p>
                        <p>12PM</p>
                        <p>1PM</p>
                        <p>2PM</p>
                        <p>3PM</p>
                        <p>4PM</p>
                        <p>5PM</p>
                        <p>6PM</p>
                        <p>7PM</p>
                        <p>8PM</p>
                        <p>9PM</p>
                        <p>10PM</p>
                        <p>11PM</p>
                        <p>12AM</p>
                    </div>

                    <!-- Add this popup element inside the schedule-container -->
                    <div class="popup-wrapper hidden">
                        <div id="popup-overlay"></div> <!-- Colored overlay -->
                        <div id="bar-popup" >
                            <h3 id="popup-title">Worksheet #4</h3>
                            <p id="popup-date">Yesterday, January 29, 2025</p>
                            <p id="popup-description">description</p>
                            <button id="popup-close-btn">Done</button>
                        </div>
                    </div>

                    <div class="time-slots">
                        <div class="schedule-bars">
                        </div>
                    </div>
                </div>
            </div>

            <div class="schedule-navigation">
                <button class="nav-btn" id="prev-week">&lt;</button>
                <p id="week-label">April 1-5</p>
                <button class="nav-btn" id="next-week">&gt;</button>
            </div>
        </section>
</div> 
    <script src="{% static 'js/org.js' %}"></script>
    <script src="{% static 'js/sidebar.js' %}"></script>
</body>
</html>
