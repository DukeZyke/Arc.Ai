{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Email</title>
    <link rel="stylesheet" href="{% static 'styles/styles.css' %}?v=1.0">
    <link rel="stylesheet" href="{% static 'styles/edit_user.css' %}?v=1.0">
    <script src="{% static 'scripts/signup_details.js' %}" defer></script>
</head>
<body>
    <div id="sidebar">
        <div id="sidebar_content" class="hidden">
            <p><a href="{% url 'core:profilepage' %}">Profile</a></p>
            <p><a href="{% url 'core:home' %}">Home</a></p>
            <p><a href="{% url 'core:organization' %}">Organization</a></p>
            <p><a href="{% url 'core:saved' %}">Saved</a></p>
            <p><a href="{% url 'core:email' %}">Email</a></p>
        </div>
        <hr class="divider_sidebar"/>
        
        <div class="notification_container">
            <!-- Notification Pop-Up -->
                <div id="notification_popup" class="hidden">
                <h2>Notifications</h2><button id="close_notification_popup" class="close-btn">&times;</button>
                <div id="notification_list">
                    <ul>
                        <li class="notification_item" data-detail="General meeting at 10:30 AM on January 3, 2024, will be held in the main conference room. All employees are expected to attend this important session where key company updates and strategic initiatives for the upcoming year will be discussed.">
                            <p>Schedule Update <span>Yesterday</span></p>
                            <p class="short-description">General meeting at 10:30AM on Jan 3, 202 General meeting at 10:30AM on Jan 3, 202</p>
                            <p class="posted-by">- Imee Duterte</p>
                        </li>
                        <li class="notification_item" data-detail="Another meeting detail here.">
                            <p>Schedule Update <span>Yesterday</span></p>
                            <p class="short-description">Another meeting detail here General meeting at 10:30AM on Jan 3, 202 General meet</p>
                            <p class="posted-by">- John Doe</p>
                        </li>
                        <li class="notification_item" data-detail="Another meeting detail here.">
                            <p>Schedule Update <span>Yesterday</span></p>
                            <p class="short-description">Another meeting detail here</p>
                            <p class="posted-by">- Sarah Marcos</p>
                        </li>
                        <li class="notification_item" data-detail="Another meeting detail here.">
                            <p>Schedule Update <span>Yesterday</span></p>
                            <p class="short-description">Another meeting detail here</p>
                            <p class="posted-by">- Ginno Arostique</p>
                        </li>
                        <li class="notification_item" data-detail="Another meeting detail here.">
                            <p>Schedule Update <span>Yesterday</span></p>
                            <p class="short-description">Another meeting detail here</p>
                            <p class="posted-by">- Ginno Arostique</p>
                        </li>
                    </ul>
                </div>
            </div>
            <!-- Detailed Notification -->
            <div id="detailed_notification" class="hidden">
                <h2 id="notification_title">Schedule Update</h2><p class="notification_date">Yesterday, January 29, 2025</p>
                <button id="close_detailed_notification" class="close-btn">&times;</button>
                <p id="notification_detail"></p>
                <p class="posted-by">- Imee Duterte, Team Head</p>
                <button class="respond-btn">Respond</button>
            </div>
        </div>
        
        <div id="sidebar_icns_grp">
            <div class="nav_item">
                <img id="nav_icon" class="sidebar_icns" style="margin-bottom: -6px;" src="{% static 'Images/Navigation.png' %}" alt="Navigate">
                <p>Navigate</p>
            </div>
            <div class="nav_item">
                <img class="sidebar_icns" src="{% static 'Images/Notification.png' %}" alt="Notification">
                <p id="notification_paragraph">Notification</p>
            </div>
            <div class="nav_item">
                <img class="sidebar_icns" src="{% static 'Images/Settings.png' %}" alt="Settings">
                <p>Settings</p>
            </div>
        </div>
    </div>
    
    <div id="header">
        <div>
            <img id="logo" src="{% static 'Images/Logo.png' %}" alt="ARC.AI Logo">
        </div>
        <div id="header_nav" class="text_white">
            <p><a href="{% url 'core:home' %}" class="{% if active_page == 'home' %}active{% endif %}">Home</a></p>
            <p><a href="{% url 'core:organization' %}" class="{% if active_page == 'organization' %}active{% endif %}">Organization</a></p>
            <p><a href="{% url 'core:saved' %}" class="{% if active_page == 'saved' %}active{% endif %}">Saved</a></p>
            <p><a href="{% url 'core:email' %}" class="{% if active_page == 'email' %}active{% endif %}">Email</a></p>
            <p><a href="{% url 'core:profilepage' %}" class="{% if active_page == 'email' %}active{% endif %}">Profile</a></p>
        </div>
        <div>
            <img id="account_icn" src="{% static 'Images/Account.png' %}" alt="Account">
        </div>
    </div>

    <form method="post" action="{% url 'core:edit_user_profile' %}" enctype="multipart/form-data">
        {% csrf_token %}
        <div id="content">
            <div id="signin_form">
                <h1 class="titles justify-center">Edit User Information</h1>
                <div class="form-group">
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" value="{{ personal_info.email }}" required>
                </div>
                <div class="form-group">
                    <label for="first_name">First Name:</label>
                    <input type="text" id="first_name" name="first_name" value="{{ personal_info.first_name }}" required>
                </div>
                <div class="form-group">
                    <label for="middle_initial">Middle Initial:</label>
                    <input type="text" id="middle_initial" name="middle_initial" value="{{ personal_info.middle_initial }}" required>
                </div>
                <div class="form-group">
                    <label for="last_name">Last Name:</label>
                    <input type="text" id="last_name" name="last_name" value="{{ personal_info.last_name }}" required>
                </div>
                <div class="form-group">
                    <label for="complete_address">Complete Address:</label>
                    <input type="text" id="complete_address" name="complete_address" value="{{ personal_info.complete_address }}" required>
                </div>
                <div class="form-group">
                    <label for="contact_no">Contact No.:</label>
                    <input type="number" id="contact_no" name="contact_no" value="{{ personal_info.contact_number }}" required>
                </div>
                <div id="age-gender_container">
                    <div class="form-group">
                        <label for="age">Age:</label>
                        <input type="number" id="age" name="age" value="{{ personal_info.age }}" required>
                    </div>
                    <div class="form-group" id="gender_container">
                        <label for="gender">Gender:</label>
                        <select id="gender" name="gender" required>
                            <option value="" disabled>Select your gender</option>
                            <option value="male" {% if personal_info.gender == "male" %}selected{% endif %}>Male</option>
                            <option value="female" {% if personal_info.gender == "female" %}selected{% endif %}>Female</option>
                            <option value="other" {% if personal_info.gender == "other" %}selected{% endif %}>Other</option>
                        </select>
                    </div>
                </div>
                <div id="department-position_container">
                    <div class="form-group">
                        <label for="department">Department:</label>
                        <select id="department" name="department" required>
                            <option value="" disabled>Select your Department</option>
                            <option value="HR" {% if personal_info.department == "HR" %}selected{% endif %}>HR</option>
                            <option value="IT" {% if personal_info.department == "IT" %}selected{% endif %}>IT</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="position">Position:</label>
                        <select id="position" name="position" required>
                            <option value="" disabled>Select your Position</option>
                            <option value="Manager" {% if personal_info.position == "Manager" %}selected{% endif %}>Manager</option>
                            <option value="Employee" {% if personal_info.position == "Employee" %}selected{% endif %}>Employee</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="profile_avatar">Profile Picture:</label>
                    <input type="file" id="profile_avatar" name="profile_avatar">
                </div>
            </div>
        </div>
    </form>
    <div id="logo_container" class="gap">
        <div id="select_profile">
            <div id="active_profile_pic">
                <img id="selected_profile_pic" src="{% static 'Images/Profile.png' %}">
            </div>
            <p>Select Profile Picture</p>
            <div class="profile_pic_cntr">
                {% for i in range %}
                    {% with "Images/Profile" as base_path %}
                    <img class="profile_pic_option" src="{% static base_path %}{{ i }}.png" alt="Profile Picture {{ i }}" onclick="selectProfilePicture(this)">
                    {% endwith %}
                {% endfor %}
            </div>
        </div>
    </div>
    <script src="{% static 'js/sidebar.js' %}"></script>
</body>
</html>